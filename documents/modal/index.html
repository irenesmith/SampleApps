<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Create a Modal Form</title>

  <script src="https://kit.fontawesome.com/33e08446a2.js"></script>
  <link rel="stylesheet" href="css/modal.css">
</head>
<body>
  <!-- Web page content -->
  <main>
    <header>
      <p>Name: <span id="username"></span></p>
      <p>Email: <span id="useremail"></span></p>
    </header>
    <h1>Modal Dialog Box</h1>
    <p>
      There are a lot of reasons why you might want to have a modal
      dialog box. A modal dialog is useful for getting information in
      instances where the user has to fill it out before you can
      continue executing a program.
    </p>
    <p>
      You can add a framework, like Bootstrap, but if you want to do
      it yourself, how do you go about it? It's easier than it looks.
    </p>
    <button id="openButton" disabled>Open dialog</button>
    
    <h2>HTML/CSS</h2>
    <p>
      Look at the HTML for this page. The source is separated into two
      sections:
    </p>
    <ol>
      <li>
        The main content for this page (the stuff you're reading now.) That's
        everything between the comments: Web page content and End Web Page Content.
      </li>
      <li>
        The HTML markup for the dialog box and the overlay that darkens the
        page content. Everything between: Dialog box content and End Dialog box content.
      </li>
    </ol>
    <p>
      The div element with the id <em>overlay</em> will darken the
      content of the page itself since the dialog box won't completely cover it.
      That gives the user a visual clue that the focus is on the dialog box and not
      the underlying page.
    </p>
    <p>
      The div element with the id <em>dialog</em> contains all of the text and interface
      items for the dialog box. You can put a form here or just information. The choice
      is up to you.
    </p>
    <h2>JavaScript</h2>
    <p>
      The JavaScript for this dialog box is only 26 lines long if you don't count the
      blank lines and the comments. Let's take a look at it.
    </p>
    <div class="code-listing">
      // Set up variables for the dialog box and its objects<br>
      const dialog = document.getElementById('dialog');<br>
      const overlay = document.getElementById('overlay');<br>
      const name = document.getElementById('name');<br>
      const email = document.getElementById('email');<br>
      <br>
      // The two spans on the main page that will contain the<br>
      // values the user enters on the dialog box.<br>
      const userName = document.getElementById('username');<br>
      const userEmail = document.getElementById('useremail');<br>
      <br>
      window.onload = (e) => {<br>
        // Scroll to the top of the page<br>
        window.scrollTo(0, 0);<br>
        // Disable scrolling<br>
        document.querySelector('body').className = 'noScroll';<br>
      };<br>
      <br>
      // Add event listeners for the buttons.<br>
      document.getElementById('xButton').addEventListener('click', closeDialog);<br>
      document.getElementById('closeButton').addEventListener('click', closeDialog);<br>
      document.getElementById('openButton').addEventListener('click', e => {<br>
      &nbsp;&nbsp;document.querySelector('body').className = 'noScroll';<br>
      &nbsp;&nbsp;overlay.className = 'overlay-on';<br>
      &nbsp;&nbsp;dialog.className = 'dialog-on';<br>
      &nbsp;&nbsp;document.querySelector('#openButton').disabled = true;<br>
      });<br>
      <br>
      function closeDialog() {<br>
      &nbsp;&nbsp;userName.innerText = name.value;<br>
      &nbsp;&nbsp;userEmail.innerText = email.value;<br>
      &nbsp;&nbsp;dialog.className = 'dialog-off';<br>
      &nbsp;&nbsp;document.querySelector('#openButton').disabled = false;<br>
      &nbsp;&nbsp;overlay.className = 'overlay-off';<br>
      &nbsp;&nbsp;document.querySelector('body').className = 'canScroll';<br>
      }
    </div>
    <p>
      First we set up two constants; one for the dialog box and one for the
      overlay that dims the background. These constants simplify the coding
      that displays and hides the overlay and the dialog box.
    </p>
    <p>
      Once that is done, we attach the two event listeners to the buttons that
      call the show and hide code. Notice that the xButton (the close button in
      the dialog box) and the Close button are both attached to the closeDialog
      function.
    </p>
    <p>
      The event listener, the handler, for the Open button works by adding the
      classes to make the dialog and overlay visible. The "on" classes set the
      display of those objects to block. Then the final line of the function
      disables the Open button on the main page so you can't open the dialog
      box while it is already visible.
    </p>
    <p>
      The closeDialog function which handles clicks on either the button in the
      dialog box or the X button in the dialog title, does the opposite of the
      handler that opens the dialog box.
    </p>
    <h2>Conclusion</h2>
    <p>
      Maybe I went a little bit overboard with the CSS, considering that this is
      just a demo, but you're welcome to download the whole thing, HTML, CSS,
      and JavaScript. I've zipped it up to make it easier for you.
    </p>
    <p>
      Download the <a href="modal.zip">zipped modal files</a> and have fun.
    </p>
  </main>
  <footer id="page-footer">
      <p>Copyright &copy; 2019, Irene P. Smith</p>
      <p><span>Photo by <a href="https://unsplash.com/@messrro?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Mehdi Babousan</a> on <a href="https://unsplash.com/s/photos/patterns?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></span></p>
      <p>
        <a href="https://www.facebook.com/IrenePSmithAuthor/" target="_blank"><i class="fab fa-facebook"></i></a>&nbsp;
        <a href="https://twitter.com/Story_Teller" target="_blank"><i class="fab fa-twitter"></i></a>&nbsp;
        <a href="https://www.linkedin.com/in/irenesmith/" target="_blank"><i class="fab fa-linkedin"></i></a>&nbsp;
      </p>
  </footer>
  <!-- End Web page Content -->

  <!-- Dialog box content -->
  <div id="overlay" class="overlay-on"></div>

  <div id="dialog" class="dialog-on">
    <div id="titlebar">
      <p class="titlebar-text">Modal Dialog</p>
      <p id="xButton">X</p>
    </div>
    <div id="dialog-content">
      <h2 class="dialog-title">Modal Dialog Box</h2>
      <p>
        This dialog box is modal. You have to close it
        before you can continue using the page.
      </p>
      <h2>Fill out the form...</h2>
      <p>The information you enter will only be used on this page.</p>
      <form>
        <label for="name">Name:</label>
        <input type="text" name="name" id="name">
        <label for="email">Email:</label>
        <input type="email" name="email" id="email">
      </form>
    </div>
    <footer id="dialog-footer">
      <button id="closeButton">Close</button>
    </footer>
  </div>
  <!-- End Dialog box Content -->

  <script src="js/modal.js"></script>
</body>
</html>